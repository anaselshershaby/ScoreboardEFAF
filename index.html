<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scoreboard Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    #home-score, #away-score {
      font-size: 24px;
      margin: 20px;
    }
  </style>
</head>
<body>
  <h1>Score Control Dashboard</h1>

  <div>
    <span id="home-score">0</span>
    <span style="font-size: 24px;"> vs </span>
    <span id="away-score">0</span>
  </div>

  <button id="increase-home">Increase Home</button>
  <button id="decrease-home">Decrease Home</button>
  <button id="increase-away">Increase Away</button>
  <button id="decrease-away">Decrease Away</button>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBnHWRcCF4P8aneCbpKPWj3picLajwjEJA",
      authDomain: "efaf-scoreborad.firebaseapp.com",
      databaseURL: "https://efaf-scoreborad-default-rtdb.firebaseio.com",
      projectId: "efaf-scoreborad",
      storageBucket: "efaf-scoreborad.firebasestorage.app",
      messagingSenderId: "422493280611",
      appId: "1:422493280611:web:76bff49b2ed92464b2db56",
      measurementId: "G-2P220TFGL6"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Reference to the score in the database
    const scoreRef = database.ref('score');

    // Function to update the UI when the score changes
    function updateScore(newScore) {
      document.getElementById('home-score').textContent = newScore.home || 0;
      document.getElementById('away-score').textContent = newScore.away || 0;
    }

    // Listen for changes in the database
    scoreRef.on('value', (snapshot) => {
      const data = snapshot.val();
      if (data) {
        updateScore(data);
      }
    });

    // Function to update the score in the database
    function updateScoreInDatabase(home, away) {
      scoreRef.set({ home, away });
    }

    // Buttons to increase/decrease scores
    document.getElementById('increase-home').addEventListener('click', () => {
      const currentScore = (scoreRef.once('value').then(snapshot => snapshot.val()) || { home: 0, away: 0 });
      updateScoreInDatabase((currentScore.home || 0) + 1, currentScore.away || 0);
    });

    document.getElementById('decrease-home').addEventListener('click', () => {
      const currentScore = (scoreRef.once('value').then(snapshot => snapshot.val()) || { home: 0, away: 0 });
      updateScoreInDatabase(Math.max((currentScore.home || 0) - 1, 0), currentScore.away || 0);
    });

    document.getElementById('increase-away').addEventListener('click', () => {
      const currentScore = (scoreRef.once('value').then(snapshot => snapshot.val()) || { home: 0, away: 0 });
      updateScoreInDatabase(currentScore.home || 0, (currentScore.away || 0) + 1);
    });

    document.getElementById('decrease-away').addEventListener('click', () => {
      const currentScore = (scoreRef.once('value').then(snapshot => snapshot.val()) || { home: 0, away: 0 });
      updateScoreInDatabase(currentScore.home || 0, Math.max((currentScore.away || 0) - 1, 0));
    });

    // Set initial score
    scoreRef.once('value').then(snapshot => {
      const data = snapshot.val();
      if (!data) {
        updateScoreInDatabase(0, 0);
      }
    });
  </script>
</body>
</html>
